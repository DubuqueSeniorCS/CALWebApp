<html>

<head>
    <link rel="stylesheet" type="text/css" href="./css/mlabreport.css" />
    <!--<link rel="stylesheet" href="labreport.css">
    <link rel="stylesheet" type="text/css" href="./css/sabrinacss.css">
    <link rel="stylesheet" type="text/css" href="./css/normalize.css">
    <link rel="stylesheet" type="text/css" href="./css/style.css">-->
    <title>Magnetism Lab</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.2/jspdf.min.js"></script>
</head>

<body class="magnetismbody">

    <h1 id="challenge-type">Magnetism Challenge</h1>

    <h3>How far can you make the ball jump?</h3>

    <div class="interaction">
        <p class="prompt" style="padding-top: 50px">What are you going to try?</p>
        <textarea class="magnetism" id="plan" placeholder="Record your plan and predictions here!" onfocus="this.placeholder=''"></textarea>

        <p class="prompt" style="padding-top: 50px">What happened when you tested your plan? How far did the ball jump?</p>
        <textarea class="magnetism" id="prediction" placeholder="Record your results here!" onfocus="this.placeholder=''"></textarea><br>

        <input id="selectedFile" type="file" onchange="previewFile()" style="display: none;">
        <div style="padding-top:50px">
            <button class="magnetism" onclick="document.getElementById('selectedFile').click();">Take a Photo</button><br>
        </div>

        <!--<img src="" height="200" alt="Image preview...">-->
        <div style="padding-top:50px">
            <button class="magnetism" onclick="printToPdf()">Save my Report!</button>
        </div>
    </div>

    <div class="nextlab" style="padding-top: 50px">
        <h3 style="padding-bottom: 25px">Ready to move on to something new?</h3>
        <a href="./index.html" style="color: white; text-decoration: none">
            <div style="background-image:linear-gradient(to bottom right, #ff008c80, #ff003780), url(&quot;./images/CAL_NextLab_Home.jpg&quot;); width: 50%; height: 500px; float: left">
                <h2>Home</h2>
            </div>
        </a>

        <a href="./constructionLabReport.html" style="color: white; text-decoration: none">
            <div style="background-image:linear-gradient(to bottom right, #ea03ff80, #9603ff80), url(&quot;./images/CAL_NextLab_Construction.jpg&quot;); width: 50%; height: 500px; float: left">
                <h2>Next</h2>
            </div>
        </a>
    </div>
    <!--<div class="nextlab" style="background-image:linear-gradient(to bottom right, #a6ff0080, #02eaff80), url(&quot;./images/gravity_transition.jpg&quot;); width: 100%; height: 500px">
        <button class="nextlab_buttons" onclick="location.assign('index.html')">Home</button>
        <button class="nextlab_buttons" onclick="location.assign('magnetismLabReport.html')">Next</button>
    </div>-->

    <script>
        var imgData;

        function previewFile() {
            //var preview = document.querySelector('img'); //selects the query named img
            var file = document.querySelector('input[type=file]').files[0]; //sames as here
            var reader = new FileReader();
            reader.onloadend = function () {
                //preview.src = reader.result;
                imgData = reader.result;
            }
            if (file) {
                reader.readAsDataURL(file); //reads the data as a URL
            }
            /* else {
                            preview.src = "";
                        }*/
        }

        function printToPdf() {
            var doc = new jsPDF();
            doc.setFontSize(35);
            doc.text(25, 25, 'Magnetism Challenge');
            doc.text(25, 35, 'Lab Report');
            doc.setFontSize(24);
            doc.text(25, 45, 'Goal: Make cool shapes');
            doc.text(25, 55, 'What did you try?');
            doc.text(25, 65, document.getElementById("plan").value);
            doc.text(25, 75, 'What happened when you tested your plan?');
            doc.text(25, 85, document.getElementById("prediction").value);
            if (imgData != null) {
                doc.addImage(imgData, 'JPEG', 15, 40, 180, 160);
            }
            doc.save('magnetismlab.pdf');
        }
    </script>
</body>

</html>